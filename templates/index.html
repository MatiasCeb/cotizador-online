<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador Online</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>Cotizador de Garantía de Alquiler</h1>

    <section id="calculo">
        <h2>Cálculo de Costo de Garantía</h2>
        <form hx-post="/calculate" hx-target="#payment-section" hx-swap="innerHTML">
            <label for="tipo-garantia">Tipo de Garantía:</label>
            <select name="tipo-garantia" id="tipo-garantia">
                <option value="nueva">Nueva</option>
                <option value="renovacion">Renovación</option>
            </select><br>

            <label for="tipo-alquiler">Tipo de Alquiler:</label>
            <select name="tipo-alquiler" id="tipo-alquiler">
                <option value="vivienda">Vivienda</option>
                <option value="comercial">Comercial</option>
            </select><br>

            <label for="duracion">Duración del Alquiler (meses):</label>
            <select name="duracion" id="duracion" required>
                <option value="12">12 meses</option>
                <option value="18">18 meses</option>
                <option value="24">24 meses</option>
                <option value="36">36 meses</option>
            </select><br>

            <label for="valor-mes">Valor del Primer Mes de Alquiler:</label>
            <input type="number" name="valor-mes" id="valor-mes" step="0.01" required><br>

            <label for="expensas">Valor Actual de Expensas:</label>
            <input type="number" name="expensas" id="expensas" step="0.01" required><br>

            <button type="submit">Calcular</button>
        </form>
    </section>

    <section id="payment-section">
        <!-- Payment plan will be loaded here -->
    </section>

    <section id="envio">
        <h2>Envío de Cotización</h2>
        <form hx-post="/send-email" hx-target="#envio-result" hx-swap="innerHTML">
            <label for="email">Correo Electrónico:</label>
            <input type="email" name="email" id="email" required><br>
            <button type="submit">Enviar Cotización</button>
        </form>
        <div id="envio-result"></div>
    </section>
</body>
</html>